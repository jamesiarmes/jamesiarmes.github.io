<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/public/stylesheets/bs.css">
    <link rel="stylesheet" href="/public/stylesheets/styles.css">
    <link rel="stylesheet" href="/public/stylesheets/pygment_trac.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> 
    <link rel="canonical" href="http://jamesarmes.com/blog/2008/05/workxpress-ftp-integration">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <link rel="icon" type="image/x-icon"  href="/favicon.ico" />
    <title>WorkXpress FTP Integration | James Armes</title>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  </head> 
  <body>
    <div class="wrapper">    
        <section>   
          <div id="title">
  <h1>
    
		  <a id="git-ic" href="https://github.com/jamesiarmes"><i class="fa fa-github"></i></a>
    

    
      <a id="so-ic" href="http://stackoverflow.com/users/62401/jamesarmes"><i class="fa fa-stack-overflow"></i></a>
    

    <a id="sitename" href="/">James Armes</a>
  </h1>

  <!-- Add something about you in p tag-->
  <!-- <p>Write something about you here...</p> -->
  <hr/>

  <span class="credits left">
  <a href="/blog">Blog</a> |
  <a href="/archive">Archive</a> |
  <a href="/resume">Resume</a> |
  <a href="/about">About</a>
</span>

<span class="credits right">

</span>


</div>



      
          <div class="post-title">
    <h1>WorkXpress FTP Integration</h1>
    <p class="text-muted">03 May 2008 | <i class="fa fa-tag"></i>
  
  
  <a class="text-muted" href="/tags/#FTP">FTP</a>,
  
  <a class="text-muted" href="/tags/#Linux">Linux</a>,
  
  <a class="text-muted" href="/tags/#WorkXpress">WorkXpress</a>
  


</p>

</div>
            
  <p>After some configuration issues, I completed the server setup for the WorkXpress
FTP Integration this week. Most of the issues were with the FTP Server. There
was also a minor vhost issue with Apache.</p>

<!--more-->

<h3 id="what-is-the-workxpress-ftp-integration">What is the WorkXpress FTP Integration?</h3>
<p>The WorkXpress FTP Integrations allows users of
<a href="http://www.workxpress.com">WorkXpress</a> to add and modify users of an FTP
Server. Files uploaded to the FTP Server can then be viewed inside of
WorkXpress. Files can also be added through WorkXpress that would appear to FTP
users.</p>

<p>The FTP Integration also includes a Quick Upload page. This page displays a
login screen for WorkXpress on the left and a file upload section on the right.
The file upload section contains Fields for Company Name, Full Name, Phone
Number, Email Address, and five File Upload Fields. The data Fields are used for
the log file in the Quick Upload Field.</p>

<div class="image-caption">
    <img src="/assets/images/2008/05/quick_upload.png" alt="FTP Integration Quick Upload" />
    <div>
        FTP Integration Quick Upload
    </div>
</div>

<h3 id="issues--solutions">Issues &amp; Solutions</h3>
<p>The Apache issue was quite simple. There are two copies of the integration on
the server. The first copy, ftp.example.com, is used to integrate with the
production application. The second copy, ftpqa.example.com, is used to integrate
with the QA (testing) application. The problem was when browsing to the QA
Integration, the Production Integration was returned instead. Adding
“NameVirtualHost *:80” to the apache2.conf file took care of this.</p>

<p>The FTP issues were a little harder to track down. The first issues was allowing
multiple instances of vsftpd to run on different ports. All of the tutorials
that I found while searching the Internet involved a different IP Address for
each instance. After some more research, i discovered the “listen_port” option
for vsftpd.conf.</p>

<p>I setup two different configuration files, vsftpd.conf and vsftpd.qa.conf. I
added the following lines to the files:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text"># vsftpd.conf
listen_port=21

# vsftpd.qa.conf
listen_port=8021</code></pre></figure>

<p>I then started the multiple instances using the following:</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console"><span class="w">$ </span><span class="nc">sudo</span><span class="kv"> vsftpd /etc/vsftpd.conf &amp;
</span>[1] 6898
<span class="w">$ </span><span class="nc">sudo</span><span class="kv"> vsftpd /etc/vsftpd.qa.conf &amp;
</span><span class="err">[2] 6899</span></code></pre></figure>

<p>The second FTP issue dealt with user navigation. Currently, the home path for
users is /home/ftp/[Company Name] and /home/ftpqa/[Company Name]. The problem
was that a user from Company A could go back up the tree and modify files from
Company B. After a lot of research, I discovered the “chroot_local_user”
configuration option for vsftpd. This option locks users into their home
directory and its contents. I added the following line to both vsftpd.conf and
vsftpd.qa.conf:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">chroot_local_user=Yes</code></pre></figure>


    
<div class="share-btns">
  
 <h4>Share this post:</h4>


 
<a class="btn btn-small btn-sm twitter" href="http://twitter.com/share?text=WorkXpress FTP Integration"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>

        <a class="btn btn-small btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>

        <a class="btn btn-small btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
 </a>

</div>   

<div class="comments">
   <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jamesarmes';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

</div> 

<div class="post-footer">
  
</div>
<hr/>


  
    <div class="post-navs row">
      
        <div class="col-md-6 post-nav">
            
          <h3 class="section-header">
            Older
            <span class="text-muted"> &middot; </span>
            <a href="/archive">View Archive (33)</a>
          </h3>
            
          <h2 class="post-title-link"><a href="/blog/2008/04/ups-time-transit">UPS Time In Transit</a></h2>
          <p>Time In Transit has been committed to the UPS API repository. Time in transit
allow you to check the amount of time it would take to ship a package using
different UPS Services. From the
<a href="http://www.ups.com/onlinetools">UPS OnlineTools Website</a>:</p>


        </div>
      
      
        
        <div class="col-md-6 post-nav">
          <h3 class="section-header">
            Newer
            
          </h3>
            
          <h2 class="post-title-link"><a href="/blog/2008/05/browser-mightier-rich-text-area">The Browser Is Mightier Than The Rich Text Area</a></h2>
          <p>Since Firefox 3 Beta 5 was released, there has been some problems with our Rich
Text Areas in WorkXpress. The control renders but remains gray; there is no way
for users to enter text. This problem persist in Firefox 3 Release Candidate 1.</p>


        </div>
      
    </div>
  

 

          <footer>
<hr/>
  <div class="left">
    &copy;2016
    James Armes.
  </div>

  <div class="right">
    
      <a href="https://twitter.com/jamesiarmes"><i class="fa fa-twitter fa-lg" style="color:#49B1F7;"></i></a>
    </a>
    
  </div>
</footer>

        </section>
    </div>   
    </div>
    <script src="/public/javascripts/jquery.min.js"></script>
    <script src="/public/javascripts/bootstrap.min.js"></script>
    <!-- disqus comment counter -->
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jamesarmes';

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function () {
	    var s = document.createElement('script'); s.async = true;
	    s.type = 'text/javascript';
	    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
	    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
</script>
<!-- /disqus comment counter -->



<!-- google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3412924-2', 'auto');
  ga('send', 'pageview');

</script>
<!-- /google analytics -->

  </body>
</html>
