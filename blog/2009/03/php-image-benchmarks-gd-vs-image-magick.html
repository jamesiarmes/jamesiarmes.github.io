<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/public/stylesheets/bs.css">
    <link rel="stylesheet" href="/public/stylesheets/styles.css">
    <link rel="stylesheet" href="/public/stylesheets/pygment_trac.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> 
    <link rel="canonical" href="http://jamesarmes.com/blog/2009/03/php-image-benchmarks-gd-vs-image-magick">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <link rel="icon" type="image/x-icon"  href="/favicon.ico" />
    <title>PHP Image Benchmarks, GD Vs. Image Magick | James Armes</title>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  </head> 
  <body>
    <div class="wrapper">    
        <section>   
          <div id="title">
  <h1>
    
		  <a id="git-ic" href="https://github.com/jamesiarmes"><i class="fa fa-github"></i></a>
    

    
      <a id="so-ic" href="http://stackoverflow.com/users/62401/jamesarmes"><i class="fa fa-stack-overflow"></i></a>
    

    <a id="sitename" href="/">James Armes</a>
  </h1>

  <!-- Add something about you in p tag-->
  <!-- <p>Write something about you here...</p> -->
  <hr/>

  <span class="credits left">
  <a href="/blog">Blog</a> |
  <a href="/archive">Archive</a> |
  <a href="/resume">Resume</a> |
  <a href="/about">About</a>
</span>

<span class="credits right">

</span>


</div>



      
          <div class="post-title">
    <h1>PHP Image Benchmarks, GD Vs. Image Magick</h1>
    <p class="text-muted">22 Mar 2009 | <i class="fa fa-tag"></i>
  
  
  <a class="text-muted" href="/tags/#Benchmark">Benchmark</a>,
  
  <a class="text-muted" href="/tags/#Images">Images</a>,
  
  <a class="text-muted" href="/tags/#PHP">PHP</a>
  


</p>

</div>
            
  <p>Earlier this week I ran into an issue resizing bitmap images inside of
WorkXpress. We currently use <a href="http://us3.php.net/manual/en/book.image.php">GD</a>
for our image resizing needs. Unknown to us, GD has plenty of issues resizing
bitmaps, and all of our bitmap files we becoming corrupted. I modified our
resize code to use <a href="http://us3.php.net/imagick">Image Magick</a> if the image is a
bitmap and continue using GD for other image types. The next step of course is
to do some research and testing to see if we should switch over to Image Magick
completely, leaving GD behind.</p>

<!--more-->

<p>After doing some research, I found plenty of claims that GD is faster than Image
Magick. But how much faster?  I was on a quest to find out. I took a rather
large jpeg image (3504 x 2336 pixels) and converted it to three other popular
formats, png, gif, and bitmap. I then wrote a script that resizes each one to
300 x 200 pixels (png shown below) using both GD and Image Magick. The script
performs each resize 100 times and prints out the averages. I wanted to provide
a working link to each format’s resize code in action, but GoDaddy does not
support Image Magick. The benchmark results were quite interesting, as seen
below (results are in seconds).</p>

<p><img src="/assets/images/2009/03/tugofwar.png" alt="Resized PNG" /></p>

<p><strong>PNG</strong><br />
GD: 0.572078313828<br />
Image Magick: 0.851119382381</p>

<p><strong>JPEG</strong><br />
GD: 0.524123055935<br />
Image Magick: 0.873931562901</p>

<p><strong>GIF</strong><br />
GD: 0.497557456493<br />
Image Magick: 1.15288033009</p>

<p><strong>Bitmap</strong><br />
GD: 0.00230557203293 <em>(Image Corrupted)</em><br />
Image Magick: 0.523070528507</p>

<p>As you can see, GD out performed Image Magick by 48-131%, excluding the bitmap
results. So it looks like we’ll be sticking with GD for now, with the exception
of bitmaps.</p>

    
<div class="share-btns">
  
 <h4>Share this post:</h4>


 
<a class="btn btn-small btn-sm twitter" href="http://twitter.com/share?text=PHP Image Benchmarks, GD Vs. Image Magick"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>

        <a class="btn btn-small btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>

        <a class="btn btn-small btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
 </a>

</div>   

<div class="comments">
   <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jamesarmes';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

</div> 

<div class="post-footer">
  
</div>
<hr/>


  
    <div class="post-navs row">
      
        <div class="col-md-6 post-nav">
            
          <h3 class="section-header">
            Older
            <span class="text-muted"> &middot; </span>
            <a href="/archive">View Archive (33)</a>
          </h3>
            
          <h2 class="post-title-link"><a href="/blog/2009/03/vcards-mozilla-thunderbird">vcards In Mozilla Thunderbird</a></h2>
          <p>Lately, I have been constantly switching between both operating systems and mail
clients. I became quite fond of <a href="http://kontact.kde.org/">Kontact</a>, KDE’s PIM
suite, long ago. The only thing that stopped me from switching over to it full
time was its lack of support for HTML signatures. As of the KDE 4 release of
Kontact, support has been added for HTML signatures. I decided to make the
switch back to Kontact earlier this week.</p>


        </div>
      
      
        
        <div class="col-md-6 post-nav">
          <h3 class="section-header">
            Newer
            
          </h3>
            
          <h2 class="post-title-link"><a href="/blog/2009/04/add-viddler-videos-your-drupal-site">Add Viddler Videos To Your Drupal Site</a></h2>
          <p>Have a <a href="http://www.viddler.com">Viddler</a> account and looking to embed videos on
your website?  You could embed the videos directly into the body of your nodes,
but that doesn’t give you as much control as you may desire. You could use
<a href="http://drupal.org/project/cck">CCK</a> and the
<a href="http://drupal.org/project/emfield">Embedded Media Field (emfield)</a> module, but
that doesn’t support Viddler. Or does it?</p>


        </div>
      
    </div>
  

 

          <footer>
<hr/>
  <div class="left">
    &copy;2016
    James Armes.
  </div>

  <div class="right">
    
      <a href="https://twitter.com/jamesiarmes"><i class="fa fa-twitter fa-lg" style="color:#49B1F7;"></i></a>
    </a>
    
  </div>
</footer>

        </section>
    </div>   
    </div>
    <script src="/public/javascripts/jquery.min.js"></script>
    <script src="/public/javascripts/bootstrap.min.js"></script>
    <!-- disqus comment counter -->
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jamesarmes';

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function () {
	    var s = document.createElement('script'); s.async = true;
	    s.type = 'text/javascript';
	    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
	    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
</script>
<!-- /disqus comment counter -->



<!-- google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3412924-2', 'auto');
  ga('send', 'pageview');

</script>
<!-- /google analytics -->

  </body>
</html>
